{% extends "base_site.html" %}

{% block title %} Setting User Password {% endblock title %}

{% block stylesheets %}
  {{ super() }}
{% endblock stylesheets %}

{% block content %}

<!-- Page Description and Instructions -->
<div class="row">
  <div class="col-md-12">
    <div class="card">
      <div class="card-body">      
        <div id="accordion" role="tablist" aria-multiselectable="true" class="card-collapse">
          <h4 class="card-title">Add and Manage Transactions</h4>
          <div class="card card-plain">
            <div class="card-header" role="tab" id="headingOne">
              <a data-toggle="collapse" data-parent="#accordion" href="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                How to use this page
                <i class="nc-icon nc-minimal-down"></i>
              </a>
            </div>
            <div id="collapseOne" class="collapse show" role="tabpanel" aria-labelledby="headingOne">
              <div class="card-body">
                Use this page to manually add, delete, and convert, transactions.
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- /Page Description and Instructions -->
            
<!-- Manually Add Transaction  -->
<div class="row">
  <div class="col-md-12">
    <div class="card">
      <div class="card-body">
        <div id="accordion" role="tablist" aria-multiselectable="true" class="card-collapse">
          <h4 class="card-title">Manually Add a Transaction</h4>
          <div class="card card-plain">
            <div class="card-header" role="tab" id="headingOne">
              <a data-toggle="collapse" data-parent="#accordion" href="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                <i class="nc-icon nc-minimal-down"></i>
              </a>
            </div>
            <div id="collapseOne" class="collapse show" role="tabpanel" aria-labelledby="headingOne">
              
              <!-- Card Body -->
              <div class="card-body ">

                <form method="POST">
                  {{ manual_trans.hidden_tag() }}
                  
                  <label>{{ manual_trans.type.label }}<span class="required">*</span></label>
                  <div class="form-group">
                    {{manual_trans.type}}
                  </div>
                  
                  <label>{{ manual_trans.timestamp.label }}<span class="required">*</span></label>
                  <div class="form-group">
                    {{manual_trans.timestamp}}
                  </div>
                  
                  <label>{{ manual_trans.usd_spot.label }}<span class="required">*</span></label>
                  <div class="form-group">
                    {{manual_trans.usd_spot}}
                  </div>

                  <label>{{ manual_trans.quantity.label }}<span class="required">*</span></label>
                  <div class="form-group">
                    {{manual_trans.quantity}}
                  </div>

                  <label>{{ manual_trans.symbol.label }}<span class="required">*</span></label>
                  <div class="form-group">
                    {{manual_trans.symbol}}
                  </div>
                  
                  <div class="card-footer ">
                    {{ manual_trans.submit(class_="btn btn-info btn-round") }}
                  </div>
                
                </form>
              
              </div>
              <!-- /Card Body -->
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- /Add Transaction -->


<!-- Stats Table -->
<div class="row">
  <div class="col-md-12">
    <div class="card">
      <div class="card-body">
        <div id="accordion" role="tablist" aria-multiselectable="true" class="card-collapse">
          <h4 class="card-title">All Asset Stats</h4>
          <div class="card card-plain">
            <div class="card-header" role="tab" id="headingOne">
              <a data-toggle="collapse" data-parent="#accordion" href="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                
                <i class="nc-icon nc-minimal-down"></i>
              </a>
            </div>
            <div id="collapseOne" class="collapse show" role="tabpanel" aria-labelledby="headingOne">
              
              <!-- Card Body -->
              <div class="card-body ">
              
                <table id="add_transactions_stats_datatable" class="table table-striped table-bordered" style="width:100%">
                  <thead>
                    <tr>
                      <th>Asset</th>
                      <th>Quantity Purchased</th>
                      <th>Quantity Sold</th>
                      <th>Quantity Sold Unlinked</th>
                      <th>Quantity Purchased Unlinked</th>
                      <th>Purchased in USD</th>
                      <th>Sold in USD</th>
                      <th>Profit</th>
                    </tr>
                  </thead>

                  <tbody>
                    {% for row in stats_table_data %}

                    <tr>
                      <td>{{ row['symbol'] }}</td>
                      <td>{{ row['total_purchased_quantity'] }}</td>
                      <td>{{ row['total_sold_quantity'] }}</td>
                      <td>{{ row['total_sold_unlinked_quantity'] }}</td>
                      <td>{{ row['total_purchased_unlinked_quantity'] }}</td>
                      <td>{{ row['total_purchased_usd'] }}</td>
                      <td>{{ row['total_sold_usd']  }}</td>
                      <td>{{ row['total_profit_loss']  }}</td>
                    </tr>
                  
                    {% endfor %}
                
                  </tbody>
                </table>
            
              </div>
              <!-- /Card Body -->
            
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- Stats Table End -->

<!-- Sells  -->
<div class="row">
  <div class="col-md-12">
    <div class="card">
      <div class="card-body">
        <div id="accordion" role="tablist" aria-multiselectable="true" class="card-collapse">
          <h4 class="card-title">Sells</h4>
          <div class="card card-plain">
            <div class="card-header" role="tab" id="headingOne">
              <a data-toggle="collapse" data-parent="#accordion" href="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                
                <i class="nc-icon nc-minimal-down"></i>
              </a>
            </div>
            <div id="collapseOne" class="collapse show" role="tabpanel" aria-labelledby="headingOne">
                          
              <!-- Card Body -->
              <div class="card-body ">

                <table id="add_transactions_sells_datatable" class="table table-striped table-bordered" style="width:100%">
                  <thead>
                      <tr>
                        <th>Source</th>
                        <th>Asset</th>
                        <th>Time Stamp</th>
                        <th>Quantity</th>
                        <th>Quantity Unlinked</th>
                        <th>USD Spot</th>
                        <th>Quantity in USD</th>
                      </tr>
                    </thead>
                </table>
                <button type="button" id="sells_delete_button" class="btn btn-danger">Delete</button>
                <button type="button" id="buys_convert_button" class="btn btn-warning" disabled>Convert to Sell</button>
              
              </div>
              <!-- /Card Body -->
            
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- Sells End -->

<!-- Buys Table  -->
<div class="row">
  <div class="col-md-12">
    <div class="card">
      <div class="card-body">
        <div id="accordion" role="tablist" aria-multiselectable="true" class="card-collapse">
          <h4 class="card-title">Buys</h4>
          <div class="card card-plain">
            <div class="card-header" role="tab" id="headingOne">
              <a data-toggle="collapse" data-parent="#accordion" href="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                
                <i class="nc-icon nc-minimal-down"></i>
              </a>
            </div>
            <div id="collapseOne" class="collapse show" role="tabpanel" aria-labelledby="headingOne">
                          
              <!-- Card Body -->
              <div class="card-body ">      
                      
                <table id="add_transactions_buys_datatable" class="table table-striped table-bordered" style="width:100%">
                  <thead>
                    <tr>
                      <th>Source</th>
                      <th>Asset</th>
                      <th>Time Stamp</th>
                      <th>Quantity</th>
                      <th>Quantity Unlinked</th>
                      <th>USD Spot</th>
                      <th>Quantity in USD</th>
                    </tr>
                  </thead>  
                </table>
                <button type="button" id="buys_delete_button" class="btn btn-danger">Delete</button>
                <button type="button" id="buys_convert_button" class="btn btn-warning" disabled>Convert to Lost</button>
              </div>
              <!-- /Card Body -->
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- Buys Table End -->


<!-- Sends Table  -->
<div class="row">
  <div class="col-md-12">
    <div class="card">
      <div class="card-body">
        <div id="accordion" role="tablist" aria-multiselectable="true" class="card-collapse">
          <h4 class="card-title">Sends</h4>
          <div class="card card-plain">
            <div class="card-header" role="tab" id="headingOne">
              <a data-toggle="collapse" data-parent="#accordion" href="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                
                <i class="nc-icon nc-minimal-down"></i>
              </a>
            </div>
            <div id="collapseOne" class="collapse show" role="tabpanel" aria-labelledby="headingOne">
                          
              <!-- Card Body -->
              <div class="card-body ">        
                      
                <table id="add_transactions_sends_datatable" class="table table-striped table-bordered" style="width:100%">
                  <thead>
                    <tr>
                      <th>Source</th>
                      <th>Asset</th>
                      <th>Time Stamp</th>
                      <th>Quantity</th>
                      <th>Quantity Unlinked</th>
                      <th>USD Spot</th>
                      <th>Quantity in USD</th>
                    </tr>
                  </thead>  
                </table>
              
              </div>
              <!-- /Card Body -->
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- Sends Table End -->


<!-- Sends Table  -->
<div class="row">
  <div class="col-md-12">
    <div class="card">
      <div class="card-body">
        <div id="accordion" role="tablist" aria-multiselectable="true" class="card-collapse">
          <h4 class="card-title">Buys</h4>
          <div class="card card-plain">
            <div class="card-header" role="tab" id="headingOne">
              <a data-toggle="collapse" data-parent="#accordion" href="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                
                <i class="nc-icon nc-minimal-down"></i>
              </a>
            </div>
            <div id="collapseOne" class="collapse show" role="tabpanel" aria-labelledby="headingOne">
                          
              <!-- Card Body -->
              <div class="card-body ">         
                      
                <table id="add_transactions_receive_datatable" class="table table-striped table-bordered" style="width:100%">
                  <thead>
                    <tr>
                      <th>Source</th>
                      <th>Asset</th>
                      <th>Time Stamp</th>
                      <th>Quantity</th>
                      <th>Quantity Unlinked</th>
                      <th>USD Spot</th>
                      <th>Quantity in USD</th>
                    </tr>
                  </thead>  
                </table>
              
              </div>
              <!-- /Card Body -->
            
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- receive Table End -->
           


{% endblock content %}

{% block javascripts %}
  {{ super()}}
{% endblock javascripts %}



